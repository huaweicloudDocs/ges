# 图细粒度权限配置<a name="ges_01_0093"></a>

## 操作场景<a name="section64691071249"></a>

GES图实例提供了细粒度权限控制，可对特定Label的特定属性设置遍历（traverse）、读、写权限。您可以对您管理的图进行label、property级别细粒度权限设置，并对用户组进行授权。

>![](public_sys-resources/icon-note.gif) **说明：** 
>-   该功能支持对“2.2.21”及以上版本的图进行细粒度权限设置，该版本以下的图暂不支持该功能。您可以通过[升级图](升级图.md)操作，将旧版本的图升级为新版本的图再进行细粒度权限设置。
>-   图规格为“一千亿边”的图暂不支持该功能。

## 操作步骤<a name="section167829467417"></a>

1.  在细粒度权限设置之前，请先对用户组进行配置，具体操作请参考[用户组配置](用户组配置.md)。
2.  在左侧导航栏选择“图细粒度权限控制 \> 图细粒度权限配置“。
3.  在“图细粒度权限配置“页面可以看到当前您所拥有的在“运行中”的图的图名称、细粒度权限状态、权限修改时间、以及可进行的操作。

    **图 1**  图细粒度权限配置页面<a name="fig101441115142"></a>  
    ![](figures/图细粒度权限配置页面.png "图细粒度权限配置页面")

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >1.  只有图的运行状态为“运行中”的图才会在该页面显示。
    >2.  当“细粒度权限状态“为“权限关闭“时，才可以进行权限设置。
    >3.  您可以在页面的右上角按图名称进行搜索查看。

4.  选择需设置权限的图，在“操作“列单击“权限设置“，进入“权限配置“页面，如[图2](#fig17141919184612)所示，您可以创建元数据权限以及图细粒度权限。

    **图 2**  权限设置<a name="fig17141919184612"></a>  
    ![](figures/权限设置.png "权限设置")

5.  元数据写权限，单击“创建元数据权限“，创建后支持对元数据所有label进行修改。

    **图 3**  创建元数据权限<a name="fig1096271711126"></a>  
    ![](figures/创建元数据权限.png "创建元数据权限")

6.  图细粒度权限，单击“创建图权限策略“进行权限配置，您可以对管理的图进行label、property级别细粒度权限设置，并对用户组进行授权：
    -   “图权限策略名称“：您可以设置或者使用默认的名称。
    -   “配置方式“：可选择“表单视图“或者“代码视图“。
    -   “权限配置“：您勾选的label会有遍历（traverse）权限，您还可以对该label的属性进行读权限和写权限的配置。

        **图 4**  属性权限<a name="fig207492512816"></a>  
        ![](figures/属性权限.png "属性权限")

7.  单击“保存“，界面跳转到“权限配置“页面，在“图细粒度权限“模块下可以看到创建好的权限配置。

    **图 5**  已创建的权限策略<a name="fig17415102124615"></a>  
    ![](figures/已创建的权限策略.png "已创建的权限策略")

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >此时“操作“列的“关联用户组“还是置灰状态，需要开启细粒度权限之后才可以关联用户组。

8.  返回到“图细粒度权限配置“页面，找到刚配置了细粒度权限的图，单击“操作“列的“权限启用“，开启该图细粒度权限配置，此时该图“细粒度权限状态“会显示为“已开启”。
9.  单击“操作“列的“权限设置“，对刚创建好的图权限配置进行“关联用户组“操作。

    **图 6**  关联用户组<a name="fig1597612103411"></a>  
    ![](figures/关联用户组.png "关联用户组")

10. 单击“确认“，可看到当前权限已授权的用户数。

    **图 7**  已授权用户数<a name="fig2417174319918"></a>  
    ![](figures/已授权用户数.png "已授权用户数")


